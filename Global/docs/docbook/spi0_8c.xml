<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_spi0_8c" xml:lang="en-US">
<title>D:/ESE381/Global/ese381/ese381/spi0.c File Reference</title>
<indexterm><primary>D:/ESE381/Global/ese381/ese381/spi0.c</primary></indexterm>
<programlisting linenumbering="unnumbered">#include &lt;avr/io.h&gt;<?linebreak?>#include &quot;spi0.h&quot;<?linebreak?></programlisting>Include dependency graph for spi0.c:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="spi0_8c__incl.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
<simplesect>
    <title>Functions    </title>
        <itemizedlist>
            <listitem><para>void <link linkend="_spi0_8c_1af3aadd8467647d87fdefd5a408690b49">init_spi0</link> (void)</para>
</listitem>
            <listitem><para>void <link linkend="_spi0_8c_1a7290192eabed536d6abbeb98b0f2d20c">init_spi0_SerLCD</link> (void)</para>
</listitem>
            <listitem><para>void <link linkend="_spi0_8c_1a6b765ca20ee963e16e8422b1dc8d1ca5">init_spi0_LM74</link> (void)</para>
</listitem>
            <listitem><para>uint16_t <link linkend="_spi0_8c_1a7f14a9668cca4f13d96dd0692187244f">read_spi0_LM74</link> ()</para>
</listitem>
            <listitem><para>void <link linkend="_spi0_8c_1a7cccc9fe28ba278b4c3e905498fbe4d7">send_byte_SerLCD</link> (uint8_t data)</para>
</listitem>
            <listitem><para>void <link linkend="_spi0_8c_1a3f4d86a5e30afea3246ab177a53b7c70">select_slave_SerLCD</link> ()</para>
</listitem>
            <listitem><para>void <link linkend="_spi0_8c_1ae67d1cf7cd2115af93ac9ec7cb196b04">deselect_slave_SerLCD</link> ()</para>
</listitem>
            <listitem><para>void <link linkend="_spi0_8c_1a49c7c2f13c7f79ce2f2700f608e78dad">select_slave_LM74</link> ()</para>
</listitem>
            <listitem><para>void <link linkend="_spi0_8c_1a906389614337beb227e0311d81f43b13">deselect_slave_LM74</link> ()</para>
</listitem>
            <listitem><para>uint8_t <link linkend="_spi0_8c_1ae62b6dae69170c525e3249f3045da294">exchange_byte</link> (uint8_t data)</para>
</listitem>
            <listitem><para>uint8_t <link linkend="_spi0_8c_1a6d50b5924f40d5943fe17712cfabc396">normalize_range</link> (uint8_t from_min, uint8_t from_val, uint8_t from_max, uint8_t result_min, uint8_t result_max)</para>
</listitem>
            <listitem><para>void <link linkend="_spi0_8c_1a8566401125e518db3ae42a99e9a47ead">set_backlight_rgb</link> (uint8_t r, uint8_t g, uint8_t b)</para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Function Documentation</title>
<anchor xml:id="_spi0_8c_1a906389614337beb227e0311d81f43b13"/><section>
    <title>deselect_slave_LM74()</title>
<indexterm><primary>deselect_slave_LM74</primary><secondary>spi0.c</secondary></indexterm>
<indexterm><primary>spi0.c</primary><secondary>deselect_slave_LM74</secondary></indexterm>
<para><computeroutput>void deselect_slave_LM74 ( )</computeroutput></para>
<para>Pulls PA7 high.</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>None</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>None </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_spi0_8c_source_1l00058">58</link> of file <link linkend="_spi0_8c_source">spi0.c</link>.</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="spi0_8c_a906389614337beb227e0311d81f43b13_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_spi0_8c_1ae67d1cf7cd2115af93ac9ec7cb196b04"/><section>
    <title>deselect_slave_SerLCD()</title>
<indexterm><primary>deselect_slave_SerLCD</primary><secondary>spi0.c</secondary></indexterm>
<indexterm><primary>spi0.c</primary><secondary>deselect_slave_SerLCD</secondary></indexterm>
<para><computeroutput>void deselect_slave_SerLCD ( )</computeroutput></para>
<para>Pulls PA3 high.</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>None</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>None </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_spi0_8c_source_1l00050">50</link> of file <link linkend="_spi0_8c_source">spi0.c</link>.</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="spi0_8c_ae67d1cf7cd2115af93ac9ec7cb196b04_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_spi0_8c_1ae62b6dae69170c525e3249f3045da294"/><section>
    <title>exchange_byte()</title>
<indexterm><primary>exchange_byte</primary><secondary>spi0.c</secondary></indexterm>
<indexterm><primary>spi0.c</primary><secondary>exchange_byte</secondary></indexterm>
<para><computeroutput>uint8_t exchange_byte (uint8_t data)</computeroutput></para>
<para>Sends and receives one byte from SPI0. Does not automatically select/deselect slave device.</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>data</entry><entry>
<para>Data to be sent. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>Data in SPI0.DATA after exchange. </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_spi0_8c_source_1l00062">62</link> of file <link linkend="_spi0_8c_source">spi0.c</link>.</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="spi0_8c_ae62b6dae69170c525e3249f3045da294_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_spi0_8c_1af3aadd8467647d87fdefd5a408690b49"/><section>
    <title>init_spi0()</title>
<indexterm><primary>init_spi0</primary><secondary>spi0.c</secondary></indexterm>
<indexterm><primary>spi0.c</primary><secondary>init_spi0</secondary></indexterm>
<para><computeroutput>void init_spi0 (void )</computeroutput></para>
<para>Initializes SPI0 to master-only mode.</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>None</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>None </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_spi0_8c_source_1l00005">5</link> of file <link linkend="_spi0_8c_source">spi0.c</link>.</para>
</section>
<anchor xml:id="_spi0_8c_1a6b765ca20ee963e16e8422b1dc8d1ca5"/><section>
    <title>init_spi0_LM74()</title>
<indexterm><primary>init_spi0_LM74</primary><secondary>spi0.c</secondary></indexterm>
<indexterm><primary>spi0.c</primary><secondary>init_spi0_LM74</secondary></indexterm>
<para><computeroutput>void init_spi0_LM74 (void )</computeroutput></para>
<para>Initializes SPI0 to be compatible with the LM74.</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>None</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>None </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_spi0_8c_source_1l00018">18</link> of file <link linkend="_spi0_8c_source">spi0.c</link>.</para>
</section>
<anchor xml:id="_spi0_8c_1a7290192eabed536d6abbeb98b0f2d20c"/><section>
    <title>init_spi0_SerLCD()</title>
<indexterm><primary>init_spi0_SerLCD</primary><secondary>spi0.c</secondary></indexterm>
<indexterm><primary>spi0.c</primary><secondary>init_spi0_SerLCD</secondary></indexterm>
<para><computeroutput>void init_spi0_SerLCD (void )</computeroutput></para>
<para>Initializes SPI0 to be compatible with the SerLCD.</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>None</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>None </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_spi0_8c_source_1l00013">13</link> of file <link linkend="_spi0_8c_source">spi0.c</link>.</para>
</section>
<anchor xml:id="_spi0_8c_1a6d50b5924f40d5943fe17712cfabc396"/><section>
    <title>normalize_range()</title>
<indexterm><primary>normalize_range</primary><secondary>spi0.c</secondary></indexterm>
<indexterm><primary>spi0.c</primary><secondary>normalize_range</secondary></indexterm>
<para><computeroutput>uint8_t normalize_range (uint8_t from_min, uint8_t from_val, uint8_t from_max, uint8_t result_min, uint8_t result_max)</computeroutput></para>
<para>(This function should not be here, but I am too lazy. Whatever.) Normalizes a uint8_t to another range.</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>from_min</entry><entry>
<para>Minimum value of original range. </para>
</entry>
                            </row>
                            <row>
<entry>from_val</entry><entry>
<para>Value to normalize. </para>
</entry>
                            </row>
                            <row>
<entry>from_max</entry><entry>
<para>Maximum value of original range. </para>
</entry>
                            </row>
                            <row>
<entry>result_min</entry><entry>
<para>Minimum value of normalized range. </para>
</entry>
                            </row>
                            <row>
<entry>result_max</entry><entry>
<para>Maximum value of normalized range. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>Normalized number. </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_spi0_8c_source_1l00069">69</link> of file <link linkend="_spi0_8c_source">spi0.c</link>.</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="spi0_8c_a6d50b5924f40d5943fe17712cfabc396_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_spi0_8c_1a7f14a9668cca4f13d96dd0692187244f"/><section>
    <title>read_spi0_LM74()</title>
<indexterm><primary>read_spi0_LM74</primary><secondary>spi0.c</secondary></indexterm>
<indexterm><primary>spi0.c</primary><secondary>read_spi0_LM74</secondary></indexterm>
<para><computeroutput>uint16_t read_spi0_LM74 (void )</computeroutput></para>
<para>Reads two bytes from an LM74 via SPI0 and returns the 16-bit response.</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>None</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>LM74 output. </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_spi0_8c_source_1l00023">23</link> of file <link linkend="_spi0_8c_source">spi0.c</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="spi0_8c_a7f14a9668cca4f13d96dd0692187244f_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_spi0_8c_1a49c7c2f13c7f79ce2f2700f608e78dad"/><section>
    <title>select_slave_LM74()</title>
<indexterm><primary>select_slave_LM74</primary><secondary>spi0.c</secondary></indexterm>
<indexterm><primary>spi0.c</primary><secondary>select_slave_LM74</secondary></indexterm>
<para><computeroutput>void select_slave_LM74 ( )</computeroutput></para>
<para>Pulls PA7 low.</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>None</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>None </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_spi0_8c_source_1l00054">54</link> of file <link linkend="_spi0_8c_source">spi0.c</link>.</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="spi0_8c_a49c7c2f13c7f79ce2f2700f608e78dad_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_spi0_8c_1a3f4d86a5e30afea3246ab177a53b7c70"/><section>
    <title>select_slave_SerLCD()</title>
<indexterm><primary>select_slave_SerLCD</primary><secondary>spi0.c</secondary></indexterm>
<indexterm><primary>spi0.c</primary><secondary>select_slave_SerLCD</secondary></indexterm>
<para><computeroutput>void select_slave_SerLCD ( )</computeroutput></para>
<para>Pulls PA3 low.</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>None</entry><entry>
<para></para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>None </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_spi0_8c_source_1l00046">46</link> of file <link linkend="_spi0_8c_source">spi0.c</link>.</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="spi0_8c_a3f4d86a5e30afea3246ab177a53b7c70_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_spi0_8c_1a7cccc9fe28ba278b4c3e905498fbe4d7"/><section>
    <title>send_byte_SerLCD()</title>
<indexterm><primary>send_byte_SerLCD</primary><secondary>spi0.c</secondary></indexterm>
<indexterm><primary>spi0.c</primary><secondary>send_byte_SerLCD</secondary></indexterm>
<para><computeroutput>void send_byte_SerLCD (uint8_t data)</computeroutput></para>
<para>Sends a byte out of SPI0. Assumes /SS = PA7.</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>data</entry><entry>
<para>Byte to be sent. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>None </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_spi0_8c_source_1l00040">40</link> of file <link linkend="_spi0_8c_source">spi0.c</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="spi0_8c_a7cccc9fe28ba278b4c3e905498fbe4d7_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="spi0_8c_a7cccc9fe28ba278b4c3e905498fbe4d7_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_spi0_8c_1a8566401125e518db3ae42a99e9a47ead"/><section>
    <title>set_backlight_rgb()</title>
<indexterm><primary>set_backlight_rgb</primary><secondary>spi0.c</secondary></indexterm>
<indexterm><primary>spi0.c</primary><secondary>set_backlight_rgb</secondary></indexterm>
<para><computeroutput>void set_backlight_rgb (uint8_t r, uint8_t g, uint8_t b)</computeroutput></para>
<para>Normalizes r, g, b to be between 0-29 (inclusive) and sends the sequence |r|g|b</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>r</entry><entry>
<para>Red. 0 to 255. </para>
</entry>
                            </row>
                            <row>
<entry>g</entry><entry>
<para>Green. 0 to 255. </para>
</entry>
                            </row>
                            <row>
<entry>b</entry><entry>
<para>Blue. 0 to 255. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>None </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_spi0_8c_source_1l00078">78</link> of file <link linkend="_spi0_8c_source">spi0.c</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="spi0_8c_a8566401125e518db3ae42a99e9a47ead_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
</section>
</section>
